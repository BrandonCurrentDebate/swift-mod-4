!function(){var r=!1;function o(t){t.match(/swift3-progress/)&&setTimeout(function(){jQuery('[data-swift3="check-status"]').trigger("click")},5e3)}jQuery(document).on("mouseover","#swift3-toolbar-icon",function(){jQuery('[data-swift3="check-status"]').parent().hasClass(".swift3-progress")||jQuery('[data-swift3="check-status"]').trigger("click");var t=document.querySelector("#wp-admin-bar-swift3 .ab-sub-wrapper");this.getBoundingClientRect().right+400>window.outerWidth&&(t.style.right=0)}),jQuery(document).on("click","#wp-admin-bar-swift3 > a",function(){r=!0}),jQuery(document).on("click","[data-swift3]",function(t){t.preventDefault();var a=jQuery(this),t=jQuery(a).attr("data-swift3");switch(jQuery(a).parent().addClass("swift3-progress"),t){case"check-status":var e=swift3_toolbar.is_admin?"admin":"frontend";jQuery.post(swift3_toolbar.ajaxurl,{action:"swift3_reload_toolbar",nonce:swift3_toolbar.nonce,url:jQuery(this).attr("data-url"),toolbar:e},function(t){jQuery(".swift3-mini-status-container").replaceWith(jQuery(t)),o(t)}).fail(function(){r||document.location.reload()}).always(function(){jQuery(a).parent().removeClass("swift3-progress")});break;case"clear-all-cache":jQuery.post(swift3_toolbar.ajaxurl,{action:"swift3_clear_cache",nonce:swift3_toolbar.nonce,toolbar:"admin"},function(t){jQuery(".swift3-mini-status-container").replaceWith(jQuery(t)),o(t)}).fail(function(){document.location.reload()}).always(function(){jQuery(a).parent().removeClass("swift3-progress")});break;case"clear-cache-single":jQuery.post(swift3_toolbar.ajaxurl,{action:"swift3_clear_cache",url:jQuery(this).attr("data-url"),nonce:swift3_toolbar.nonce,toolbar:"frontend"},function(t){jQuery(".swift3-mini-status-container").replaceWith(jQuery(t)),o(t)}).fail(function(){document.location.reload()}).always(function(){jQuery(a).parent().removeClass("swift3-progress")});break;case"purge-cache-single":jQuery.post(swift3_toolbar.ajaxurl,{action:"swift3_purge_cache",url:jQuery(this).attr("data-url"),nonce:swift3_toolbar.nonce,toolbar:"frontend"},function(t){jQuery(".swift3-mini-status-container").replaceWith(jQuery(t)),o(t)}).fail(function(){document.location.reload()}).always(function(){jQuery(a).parent().removeClass("swift3-progress")});break;case"optimize-single":jQuery.post(swift3_toolbar.ajaxurl,{action:"swift3_optimize",url:jQuery(this).attr("data-url"),nonce:swift3_toolbar.nonce,toolbar:"frontend"},function(t){jQuery(".swift3-mini-status-container").replaceWith(jQuery(t)),o(t)}).fail(function(){document.location.reload()}).always(function(){jQuery(a).parent().removeClass("swift3-progress")})}})}();