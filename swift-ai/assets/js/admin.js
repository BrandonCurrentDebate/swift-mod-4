!function(){var n,s,e,r=!0,u=!1;function o(e){return void 0!==swift3_admin.i18n[e]?swift3_admin.i18n[e]:e}function c(e){var t,a=0;if(!e||0===e.length)return a;for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a|=0;return Math.abs(a).toString(16)}function d(e,t,a){var i,n;r&&(t=t||!1,a=a||"error",i=c(e),0<jQuery("#"+i).length&&jQuery("#"+i).remove(),a=jQuery(".swift3-toast-icon-"+a+" svg").clone(),n=jQuery("<div>",{id:i,class:"swift3-toast-message"}).text(e).css("opacity",1),jQuery(n).prepend(a),jQuery(".swift3-toast-container").append(n),t||(setTimeout(function(){jQuery(n).css("opacity",0)},2e3),setTimeout(function(){jQuery(n).remove()},3e3)))}function f(){clearTimeout(s),clearInterval(n),jQuery.post(ajaxurl,{action:"swift3_status",nonce:swift3_admin.nonce},function(e){var i=jQuery.parseHTML(e.notices),e=(jQuery("#swift3-notice-wrap .swift3-notice").each(function(){var e=jQuery(this),t=e.attr("data-notice"),a=e.attr("data-hash");0==jQuery(i).find('[data-hash="'+a+'"]').length&&(1==jQuery(i).find('[data-notice="'+t+'"]').length?jQuery(e).replaceWith(jQuery(i).find('[data-notice="'+t+'"]')):(e.css("opacity",0),setTimeout(function(){e.remove()},800)))}),jQuery(i).find(".swift3-notice").each(function(){var e=jQuery("#swift3-notice-wrap"),t=jQuery(this),a=t.attr("data-hash");0==e.find('[data-hash="'+a+'"]').length&&(jQuery(t).css("opacity",0),jQuery(t).appendTo(e),setTimeout(function(){jQuery(t).css("opacity",1)},10))}),e.status);if(swift3_admin.pause_status||isNaN(e.cache.percentage)||(jQuery(".swift3-cache-percentage").text(e.cache.percentage+"%"),jQuery(".swift3-cache-info").text(e.cache.info),jQuery(".swift3-cache-percentage").removeClass("is-working"),e.cache.percentage<100&&jQuery(".swift3-cache-percentage").addClass("is-working"),jQuery(".swift3-main-thread-percentage").text(e["main-thread"]+"%"),jQuery(".swift3-main-thread-percentage").removeClass("is-working"),e["main-thread"]<100&&jQuery(".swift3-main-thread-percentage").addClass("is-working"),jQuery(".swift3-fine-tuning-percentage").text(e["fine-tuning"]+"%"),jQuery(".swift3-fine-tuning-percentage").removeClass("is-working"),e["fine-tuning"]<100&&jQuery(".swift3-fine-tuning-percentage").addClass("is-working"),jQuery(".swift3-image-info").text(e.images),document.hasFocus()&&(s=setTimeout(f,4e3))),!u&&0<jQuery(".swift3-status-message[data-text]").length){e=jQuery(".swift3-status-message[data-text]:first");u=!0;let a=jQuery(e),i=jQuery(a).find(".swift3-status-message-body"),n=jQuery(a).find(".swift3-status-message-text").html(),s=0,r=n.length<100?1:1.5;function o(){let e=n.substr(s,1);if("¶"==e){e="";for(var t=++s;t<n.length;t++){if("¶"==n.substr(t,1)){s=t+1;break}e+=n.substr(t,1)}}else s+=1;jQuery(i).html(jQuery(i).html()+e),s<=n.length?setTimeout(o,(40*Math.random()+10)/r):(jQuery(a).removeAttr("data-text"),u=!1)}jQuery(a).removeClass("swift3-hidden"),o()}}).fail(function(){d(o("Unknown error. Please refresh the page."),!0),clearInterval(n)})}f(),n=setInterval(f,3e4),jQuery(window).on("focus",function(){f(),clearInterval(n)}),jQuery(window).on("blur",function(){n=setInterval(f,3e4)}),window.onbeforeunload=function(){clearTimeout(s),clearInterval(n),r=!1},jQuery(document).on("change",".swift3-config-box .swift3-auto-trigger",function(e){jQuery(this).trigger("swift3_update")}),jQuery(".swift3-config-box .swift3-manual-trigger").each(function(e){jQuery(this).attr("data-hash",c(jQuery(this).val()))}),jQuery(document).on("change keyup",".swift3-config-box .swift3-manual-trigger",function(e){var t=jQuery(this).attr("name"),a=jQuery('[data-for="'+t+'"]');jQuery(a).addClass("swift3-disabled"),jQuery(this).attr("data-hash")!=c(jQuery(this).val())&&jQuery(a).removeClass("swift3-disabled"),13==e.keyCode&&jQuery('[data-for="'+t+'"]').trigger("click")}),jQuery(document).on("click",".swift3-save-trigger",function(e){e.preventDefault(),jQuery(this).addClass("swift3-disabled");e=jQuery(this).closest(".swift3-config-box").find('[name="'+jQuery(this).attr("data-for")+'"]');jQuery(e).attr("data-hash",c(jQuery(e).val())),jQuery(e).trigger("swift3_update")}),jQuery(document).on("swift3_update",".swift3-config-box input, .swift3-config-box select, .swift3-config-box textarea",function(e){var t=jQuery(this),a=jQuery(this).closest(".swift3-settings-wrapper"),i=jQuery(this).closest(".swift3-settings-wrapper-inner"),n=!jQuery(t).is('input[type="checkbox"]')&&!jQuery(t).is('input[type="radio"]')||jQuery(t).is(":checked")?jQuery(this).val():"";jQuery(i).addClass("updating"),jQuery.post(ajaxurl,{action:"swift3_update_option",option:jQuery(this).attr("name"),value:n,nonce:swift3_admin.nonce},function(e){setTimeout(function(){jQuery(a).find(".swift3-settings-error").remove(),"error"==e.result&&e.message&&jQuery(a).find(".swift3-settings-description").prepend(jQuery("<div>",{class:"swift3-settings-error"}).html(e.message)),jQuery(i).removeClass("updating"),jQuery(t).trigger("swift3_updated")},500)}).fail(function(){d(o("Unknown error. Please refresh the page and try again."))})}),jQuery(document).on("swift3_updated",".swift3-reload-when-updated",function(){document.location.reload()}),jQuery(document).on("click","[data-swift3]",function(e){e.preventDefault();var t=jQuery(this),a=jQuery(t).attr("data-swift3");switch(a){case"clear-cache":case"purge-cache":case"reset-cache":jQuery(t).addClass("swift3-disabled"),jQuery(".swift3-cache-percentage").text("0%").addClass("is-working"),jQuery(".swift3-main-thread-percentage").text("0%").addClass("is-working"),jQuery(".swift3-fine-tuning-percentage").text("0%").addClass("is-working"),swift3_admin.pause_status=!0,jQuery.post(ajaxurl,{action:"swift3_"+a.replace(/-/g,"_"),nonce:swift3_admin.nonce},function(e){swift3_admin.pause_status=!1,f(),d(o(a+"-done"),!1,"success"),jQuery(t).removeClass("swift3-disabled")}).fail(function(){d(o("Unknown error. Please refresh the page and try again.")),jQuery(t).removeClass("swift3-disabled")});break;case"reconnect-api":d(o("Reconnecting API..."),!0,"info"),clearTimeout(s),clearInterval(n),jQuery.post(ajaxurl,{action:"swift3_reconnect_api",nonce:swift3_admin.nonce},function(e){document.location.reload()}).fail(function(){d(o("Unknown error. Please refresh the page and try again."))});break;case"disconnect-license":d(o("Disconnecting license..."),!0,"info"),jQuery.post(ajaxurl,{action:"swift3_disconnect_license",nonce:swift3_admin.nonce},function(e){document.location.reload()}).fail(function(){d(o("Unknown error. Please refresh the page and try again."))});break;case"delete-images":d(o("Deleting optimized images..."),!1,"info"),jQuery.post(ajaxurl,{action:"swift3_delete_images",nonce:swift3_admin.nonce},function(e){f(),d(o("All optimized images has been deleted."),!1,"success")}).fail(function(){d(o("Unknown error. Please refresh the page and try again."))});break;case"dismiss":case"try-again":var i=jQuery(this).closest(".swift3-notice");jQuery.post(ajaxurl,{action:"swift3_dismiss_notice",notice:jQuery(i).attr("data-notice"),try_again:"try-again"==a,nonce:swift3_admin.nonce},function(e){}).fail(function(){d(o("Unknown error. Please refresh the page and try again."))}),jQuery(i).css("opacity",0),setTimeout(function(){i.addClass("swift3-hidden")},800)}}),jQuery(document).on("click",".swift3-dashboard-nav",function(e){e.preventDefault();var t=jQuery(this).attr("href").match(/#(.*)/)[1];switch(jQuery(".swift3-dashboard-section").addClass("swift3-hidden"),jQuery(".swift3-settings-tab").addClass("swift3-hidden"),jQuery(".swift3-dashboard-menu a").removeClass("active"),jQuery(".swift3-advanced-settings-menu a").removeClass("active"),jQuery('[href="#'+t+'"]').addClass("active"),t){case"overview":case"configuration":case"support":jQuery('[data-id="configuration"]').removeClass("swift3-under-the-hood"),jQuery("[data-id="+t+"].swift3-dashboard-section").removeClass("swift3-hidden");break;case"integrations":jQuery('[data-id="configuration"]').removeClass("swift3-under-the-hood"),jQuery("[data-id="+t+"].swift3-dashboard-section").removeClass("swift3-hidden"),jQuery('[data-id="integrations"] .swift3-advanced-settings-menu li:first > a').addClass("active"),jQuery('[data-id="integrations"] .swift3-advanced-settings-tabs div:first').removeClass("swift3-hidden");break;case"under-the-hood":jQuery('[href="#configuration"]').addClass("active"),jQuery('[data-id="configuration"]').removeClass("swift3-hidden").addClass("swift3-under-the-hood"),jQuery("#swift3-advanced-settings .swift3-advanced-settings-menu li:first > a").addClass("active"),jQuery("#swift3-advanced-settings .swift3-advanced-settings-tabs div:first").removeClass("swift3-hidden");break;default:t.match(/^uth\-/)?(jQuery('[href="#configuration"]').addClass("active"),jQuery('[data-id="configuration"]').removeClass("swift3-hidden").addClass("swift3-under-the-hood")):t.match(/^int\-/)&&(jQuery('[href="#integrations"]').addClass("active"),jQuery('[data-id="integrations"]').removeClass("swift3-hidden")),jQuery("[data-id="+t+"]").removeClass("swift3-hidden")}document.location.hash=t}),(e=document.location.hash)&&0<jQuery('.swift3-dashboard-nav[href="'+e+'"]').length&&document.addEventListener("DOMContentLoaded",function(){jQuery('.swift3-dashboard-nav[href="'+e+'"]').trigger("click")});jQuery(document).on("submit","#swift3-support-form",function(e){e.preventDefault(),d(o("Sending your request..."),!1,"info"),jQuery("#swift3-support-form").addClass("swift3-disabled"),jQuery.post(ajaxurl,{action:"swift3_support",nonce:swift3_admin.nonce,question:jQuery('#swift3-support-form [name="question"]').val(),consent:jQuery('#swift3-support-form [name="consent"]').prop("checked")},function(){jQuery('#swift3-support-form [name="question"]').val(""),jQuery('#swift3-support-form [name="consent"]').prop("checked",!1),d(o("Your request has been sent."),!1,"success"),jQuery("#swift3-support-form").removeClass("swift3-disabled")}).fail(function(){d(o("Unknown error. Please refresh the page."),!0)})}),jQuery(document).on("click",".swift3-copy",function(e){e.preventDefault(),navigator.clipboard.writeText(jQuery("#"+jQuery(this).attr("data-target")).val()),d(jQuery(this).attr("data-message"),!1,"info")}),jQuery(document).on("click change",".swift3-range",function(){jQuery(this).attr("value",jQuery(this).val())}),jQuery(".swift3-settings-wrapper select").each(function(){jQuery(this).swift3_select2({placeholder:jQuery(this).attr("data-placeholder")})}),jQuery(function(){!function a(i){jQuery("[data-depend-on]").each(function(){var e=jQuery(this).attr("data-depend-on"),t=jQuery(this).attr("data-depend-value");jQuery(this).attr("data-depend-compare"),i&&jQuery("[name="+e+"]").each(function(){jQuery(this).on("swift3_updated",function(){a(!1)})}),e=["radio","checkbox"].includes(jQuery("[name="+e+"]").attr("type"))?jQuery("[name="+e+"]:checked"):jQuery("[name="+e+"]"),jQuery(this).removeClass("swift3-dependency-hidden"),0!=e.length&&0==e.closest(".swift3-dependency-hidden").length&&e.val()==t||jQuery(this).addClass("swift3-dependency-hidden")})}(!0)})}();